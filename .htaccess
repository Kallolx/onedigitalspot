# SEO and security best practices
RewriteEngine On
# Redirect www to non-www
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ https://%1/$1 [R=301,L]
# Force HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
# Prevent directory listing
Options -Indexes
# Set caching for static assets
<FilesMatch "\.(jpg|jpeg|png|gif|css|js|ico|svg)$">
  Header set Cache-Control "max-age=31536000, public"
</FilesMatch>
# Block access to .env and config files
<FilesMatch "(\.env|config\.js|config\.json|package\.json|package-lock\.json|yarn\.lock)$">
  Order allow,deny
  Deny from all
</FilesMatch>
